<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Saved Post Manager</title>
</head>
<body>
    <div id="main">
        <h1>SAVED POST MANAGER</h1>
    {% if (session.get('name')) %}
        <div id="navbar">
            <div class="user">
                <img src="{{ session['image'] }}" alt="avatar">
                <p>u/{{ session['name'] }}</p>
            </div>
            <div>
                <input type="search" placeholder="Search.." id="searchbox">
            </div>
            <div class="settings">
                <img src="{{ url_for('static', filename='settings.png') }}" alt="settings">
            </div>
        </div>
        <div id="hidden_menu">
            Lorem ipsum dolor, sit amet consectetur adipisicing elit. Optio quod beatae ut deserunt, esse quasi et quis labore officia, distinctio ipsa, totam numquam molestiae laudantium. Dicta laboriosam maxime repellat officia fugiat natus autem consequatur, ipsum sunt quia blanditiis. Doloremque voluptatibus ipsa deleniti a magnam asperiores debitis aspernatur eaque quod obcaecati sint labore, modi quos aut consequuntur quam temporibus ut. Quia excepturi consequuntur illo voluptatem suscipit debitis odio accusantium at, neque consectetur iure saepe voluptatum. Eligendi exercitationem enim at corporis quos voluptatibus tenetur voluptate harum sint totam laboriosam quisquam ea consequatur ipsa, assumenda quibusdam, impedit id ad? Commodi facilis eos iure.
        </div>
        <div id="posts">
            {% for post in saved_posts %}
            <div class="post">
                <div class="post_topbar">
                    <div class="score">
                        üëç<br>
                        {{ post['score'] }}<br>
                        üëé<br>
                    </div>
                    <div class="info">
                        <p>{{ post['subreddit']}} üëâ Posted by u/{{ post['author'] }} ‚è∞ {{ post['date'].day }}-{{ post['date'].month }}-{{ post['date'].year }}</p>
                        <a href="{{ post['permalink'] }}" target="_blank"><h2 class="title">{{ post['title'] }}</h2></a>
                    </div>
                </div>
                <div>
                {% if post['selftext'] != None %}
                    {{ post['selftext'] | safe }}
                {% elif not post['is_video']%}
                    <img src="{{ post['url'] }}" alt="{{ post['title'] }}">
                {% else %}
                    <a href="{{ post['url'] }}" target="_blank"><img src="{{ post['thumbnail'] }}" alt="{{ post['title'] }}"></a>
                {% endif %}
                </div>
            </div>
            {% endfor %}
        </div>
        <script src="{{ url_for('static', filename='search.js') }}"></script>
        <script src="{{ url_for('static', filename='hidden_menu.js') }}"></script>
    {% else %}
            <a href="{{ auth_url }}"><button id="url_button">LOG IN WITH REDDIT</button></a><br>
            <hr><br>
            <p><b>SAVED POST MANAGER</b> is free and open-source tool to browse and manage you're saved posts. The main advantage of project are:</p>
            <ul>
                <li>Browse you're saved post fast and easy</li>
                <li>Reddit show only 1 000 posts, now you can save all you're important stuff</li>
                <li>Search through you're items</li>
                <li>Group posts by subreddits</li>
            </ul>
    </div>
    {% endif %}
</body>
</html>